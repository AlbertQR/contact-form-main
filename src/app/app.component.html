<div #alert
     class="fixed left-2/4 transform -translate-x-1/2
  bg-darkGrey text-lightGreen -top-48 min-w-64 xs:min-w-60
  max-w-[450px] p-6 rounded-xl transition-all duration-1000 ease-in-out">
  <div class="flex items-center gap-2.5">
    <svg class="h-6" fill="none" height="21" viewBox="0 0 20 21"
         width="20" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M14.28 7.72a.748.748 0 0 1 0 1.06l-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.75.75 0 0 1 1.06 0Zm5.47 2.78A9.75 9.75 0 1 1 10 .75a9.76 9.76 0 0 1 9.75 9.75Zm-1.5 0A8.25 8.25 0 1 0 10 18.75a8.26 8.26 0 0 0 8.25-8.25Z"
        fill="#fff"/>
    </svg>
    <h4 class="text-white text-lg font-bold">Message Sent!</h4>
  </div>
  <p class="mt-2.5 font-normal">
    Thanks for completing the form. We'll be in touch soon!
  </p>
</div>

<main>
  <form (submit)="handleSubmit($event)"
        [formGroup]="contactForm" class="bg-white max-w-[736px] rounded-xl
   px-6 py-7 md:px-10 md:py-11 space-y-6 my-8 md:my-32 mx-4 md:mx-auto">
    <h2 class="text-3xl font-bold text-darkGrey">Contact Us</h2>

    <div class="flex w-full gap-4 flex-col sm:flex-row">
      <div class="form-control">
        <label for="firstName">
          First Name
          <span class="text-green inline-block ml-1">*</span>
        </label>
        <input class="field" formControlName="firstName" id="firstName"
               name="firstName"
               type="text">
        @if (contactForm.get('firstName')?.invalid &&
        contactForm.get('firstName')?.touched) {
          <p class="error-message">This field is required</p>
        }
      </div>

      <div class="form-control">
        <label for="lastName">
          Last Name
          <span class="text-green inline-block ml-1">*</span>
        </label>
        <input class="field" formControlName="lastName" id="lastName"
               name="lastName"
               type="text">
        @if (contactForm.get('lastName')?.invalid &&
        contactForm.get('lastName')?.touched) {
          <p class="error-message">This field is required</p>
        }
      </div>
    </div>

    <div class="form-control">
      <label for="email">
        Email Address
        <span class="text-green inline-block ml-1">*</span>
      </label>
      <input class="field" formControlName="email" id="email" name="email"
             type="text">
      @if (contactForm.get('email')?.invalid &&
      contactForm.get('email')?.touched) {
        <p class="error-message">Please enter a valid email address</p>
      }
    </div>

    <div class="form-control">
      <label>
        Query Type <span class="text-green inline-block ml-1">*</span>
      </label>

      <div class="flex w-full gap-4 flex-col sm:flex-row">
        <div class="w-full">
          <input class="hidden" formControlName="queryType" id="general-enquiry"
                 name="queryType"
                 type="radio" value="queryType">
          <label
            class="field w-full flex items-center gap-5 hover:border-mediumGrey"
            for="general-enquiry">
            <div
              class="w-4 h-4 min-w-4 min-h-4 border border-mediumGrey rounded-lg circle"></div>
            <svg class="w-4 h-4 min-w-4 min-h-4 radio-selected" fill="none" height="21"
                 viewBox="0 0 20 21" width="20"
                 xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10 .75a9.75 9.75 0 1 0 9.75 9.75A9.76 9.76 0 0 0 10 .75Zm0 18a8.25 8.25 0 1 1 8.25-8.25A8.26 8.26 0 0 1 10 18.75Zm5.25-8.25a5.25 5.25 0 1 1-10.499 0 5.25 5.25 0 0 1 10.499 0Z"
                fill="#0C7D69"/>
            </svg>
            General Enquiry
          </label>
        </div>

        <div class="w-full">
          <input class="hidden" formControlName="queryType" id="support-request"
                 name="queryType"
                 type="radio" value="queryType2">
          <label
            class="w-full hover:border-mediumGrey flex gap-5 items-center cursor-pointer  field"
            for="support-request">
            <div
              class="w-4 h-4 min-w-4 min-h-4 border border-mediumGrey rounded-lg circle"></div>
            <svg class="w-4 h-4 min-w-4 min-h-4 radio-selected" fill="none" height="21"
                 viewBox="0 0 20 21" width="20"
                 xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10 .75a9.75 9.75 0 1 0 9.75 9.75A9.76 9.76 0 0 0 10 .75Zm0 18a8.25 8.25 0 1 1 8.25-8.25A8.26 8.26 0 0 1 10 18.75Zm5.25-8.25a5.25 5.25 0 1 1-10.499 0 5.25 5.25 0 0 1 10.499 0Z"
                fill="#0C7D69"/>
            </svg>
            Support Request
          </label>
        </div>
      </div>
      @if (contactForm.get('queryType')?.invalid &&
      contactForm.get('queryType')?.touched) {
        <p class="error-message">Please select a query type</p>
      }
    </div>

    <div class="form-control">
      <label for="message">
        Message <span class="text-green inline-block ml-1">*</span>
      </label>
      <textarea class="field resize-none min-h-48 md:min-h-24"
                formControlName="message"
                id="message" name="message"
                rows="3"></textarea>
      @if (contactForm.get('message')?.invalid &&
      contactForm.get('message')?.touched) {
        <p class="error-message">This field is required</p>
      }
    </div>

    <div class="form-control">
      <div class="flex items-center gap-5">
        <input class="hidden" formControlName="consent" id="consent"
               name="consent"
               type="checkbox">
        <div class="w-4 h-4 min-w-4 min-h-4 border border-mediumGrey rounded-sm box"></div>
        <svg class="w-4 h-4 min-w-4 min-h-4 icon-checked" fill="none" height="18"
             viewBox="0 0 18 18" width="18" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M16.5 0h-15A1.5 1.5 0 0 0 0 1.5v15A1.5 1.5 0 0 0 1.5 18h15a1.5 1.5 0 0 0 1.5-1.5v-15A1.5 1.5 0 0 0 16.5 0Zm-3.22 7.28-5.25 5.25a.748.748 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l1.72 1.72 4.72-4.72a.751.751 0 0 1 1.06 1.06Z"
            fill="#0C7D69"/>
        </svg>
        <label class="cursor-pointer" for="consent">
          @if (!messageSent) {
            I consent to being contacted by the team
            <span class="text-green inline-block ml-1">*</span>
          } @else {
            I hereby consent to being contacted by the team
            <span class="text-green inline-block ml-1">*</span>
          }
        </label>
      </div>
      @if (contactForm.get('consent')?.invalid &&
      contactForm.get('consent')?.touched) {
        <p class="error-message">
          To submit this form, please consent to being contacted
        </p>
      }
    </div>

    <button
      class="w-full rounded-md py-5 bg-green text-white hover:bg-darkGrey
      transition-all duration-300 ease-in-out"
      type="submit">Submit
    </button>
  </form>
</main>
